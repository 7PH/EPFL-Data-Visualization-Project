{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {},
   "outputs": [],
   "source": [
    "import pandas as pd\n",
    "import numpy as np\n",
    "import requests\n",
    "import io"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 37,
   "metadata": {},
   "outputs": [],
   "source": [
    "masterfile='http://data.gdeltproject.org/gdeltv2/masterfilelist.txt'\n",
    "master = pd.read_csv(masterfile, sep = \" \", header=None, names=['Size', 'Code', 'URL'])\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 38,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "'http://data.gdeltproject.org/gdeltv2/20150218230000.export.CSV.zip'"
      ]
     },
     "execution_count": 38,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "master['URL'][0]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 43,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>GlobalEventID</th>\n",
       "      <th>Actor1Geo_Lat</th>\n",
       "      <th>Actor1Geo_Long</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>5</th>\n",
       "      <td>410412352</td>\n",
       "      <td>-27.5000</td>\n",
       "      <td>153.01700</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6</th>\n",
       "      <td>410412353</td>\n",
       "      <td>-36.0667</td>\n",
       "      <td>146.48300</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7</th>\n",
       "      <td>410412354</td>\n",
       "      <td>-36.0667</td>\n",
       "      <td>146.48300</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>8</th>\n",
       "      <td>410412355</td>\n",
       "      <td>-41.0000</td>\n",
       "      <td>174.00000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>9</th>\n",
       "      <td>410412356</td>\n",
       "      <td>-41.0000</td>\n",
       "      <td>174.00000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>10</th>\n",
       "      <td>410412357</td>\n",
       "      <td>-27.5000</td>\n",
       "      <td>153.01700</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>12</th>\n",
       "      <td>410412359</td>\n",
       "      <td>42.3584</td>\n",
       "      <td>-71.05980</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>13</th>\n",
       "      <td>410412360</td>\n",
       "      <td>22.2000</td>\n",
       "      <td>111.11700</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>14</th>\n",
       "      <td>410412361</td>\n",
       "      <td>38.7918</td>\n",
       "      <td>35.65920</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>15</th>\n",
       "      <td>410412362</td>\n",
       "      <td>22.2394</td>\n",
       "      <td>68.96780</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>16</th>\n",
       "      <td>410412363</td>\n",
       "      <td>22.2394</td>\n",
       "      <td>68.96780</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>17</th>\n",
       "      <td>410412364</td>\n",
       "      <td>40.7834</td>\n",
       "      <td>-73.96620</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18</th>\n",
       "      <td>410412365</td>\n",
       "      <td>32.7831</td>\n",
       "      <td>-96.80670</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>19</th>\n",
       "      <td>410412366</td>\n",
       "      <td>-28.6207</td>\n",
       "      <td>31.09070</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>20</th>\n",
       "      <td>410412367</td>\n",
       "      <td>-30.3098</td>\n",
       "      <td>25.29710</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>21</th>\n",
       "      <td>410412368</td>\n",
       "      <td>39.9272</td>\n",
       "      <td>32.86440</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>22</th>\n",
       "      <td>410412369</td>\n",
       "      <td>12.9833</td>\n",
       "      <td>77.58330</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>23</th>\n",
       "      <td>410412370</td>\n",
       "      <td>28.6667</td>\n",
       "      <td>77.21670</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>24</th>\n",
       "      <td>410412371</td>\n",
       "      <td>26.0000</td>\n",
       "      <td>92.86670</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>25</th>\n",
       "      <td>410412372</td>\n",
       "      <td>26.0000</td>\n",
       "      <td>92.86670</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>26</th>\n",
       "      <td>410412373</td>\n",
       "      <td>33.0000</td>\n",
       "      <td>44.00000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>27</th>\n",
       "      <td>410412374</td>\n",
       "      <td>33.0000</td>\n",
       "      <td>44.00000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>28</th>\n",
       "      <td>410412375</td>\n",
       "      <td>33.0000</td>\n",
       "      <td>44.00000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>29</th>\n",
       "      <td>410412376</td>\n",
       "      <td>44.2563</td>\n",
       "      <td>-89.63850</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>30</th>\n",
       "      <td>410412377</td>\n",
       "      <td>36.0000</td>\n",
       "      <td>138.00000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>31</th>\n",
       "      <td>410412378</td>\n",
       "      <td>33.0000</td>\n",
       "      <td>44.00000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>32</th>\n",
       "      <td>410412379</td>\n",
       "      <td>33.0000</td>\n",
       "      <td>44.00000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>33</th>\n",
       "      <td>410412380</td>\n",
       "      <td>-41.0000</td>\n",
       "      <td>174.00000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>34</th>\n",
       "      <td>410412381</td>\n",
       "      <td>-41.0000</td>\n",
       "      <td>174.00000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>35</th>\n",
       "      <td>410412382</td>\n",
       "      <td>-36.0667</td>\n",
       "      <td>146.48300</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2241</th>\n",
       "      <td>410414588</td>\n",
       "      <td>21.0333</td>\n",
       "      <td>105.85000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2242</th>\n",
       "      <td>410414589</td>\n",
       "      <td>12.3703</td>\n",
       "      <td>-1.52472</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2243</th>\n",
       "      <td>410414590</td>\n",
       "      <td>12.3703</td>\n",
       "      <td>-1.52472</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2244</th>\n",
       "      <td>410414591</td>\n",
       "      <td>31.2089</td>\n",
       "      <td>16.58870</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2245</th>\n",
       "      <td>410414592</td>\n",
       "      <td>13.2151</td>\n",
       "      <td>43.79270</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2246</th>\n",
       "      <td>410414593</td>\n",
       "      <td>13.2151</td>\n",
       "      <td>43.79270</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2247</th>\n",
       "      <td>410414594</td>\n",
       "      <td>12.3703</td>\n",
       "      <td>-1.52472</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2248</th>\n",
       "      <td>410414595</td>\n",
       "      <td>12.3703</td>\n",
       "      <td>-1.52472</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2249</th>\n",
       "      <td>410414596</td>\n",
       "      <td>31.2089</td>\n",
       "      <td>16.58870</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2250</th>\n",
       "      <td>410414597</td>\n",
       "      <td>31.2089</td>\n",
       "      <td>16.58870</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2251</th>\n",
       "      <td>410414598</td>\n",
       "      <td>31.2089</td>\n",
       "      <td>16.58870</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2252</th>\n",
       "      <td>410414599</td>\n",
       "      <td>13.2151</td>\n",
       "      <td>43.79270</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2253</th>\n",
       "      <td>410414600</td>\n",
       "      <td>13.2151</td>\n",
       "      <td>43.79270</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2254</th>\n",
       "      <td>410414601</td>\n",
       "      <td>-15.3292</td>\n",
       "      <td>28.68200</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2255</th>\n",
       "      <td>410414602</td>\n",
       "      <td>-15.3292</td>\n",
       "      <td>28.68200</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2256</th>\n",
       "      <td>410414603</td>\n",
       "      <td>-15.3292</td>\n",
       "      <td>28.68200</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2257</th>\n",
       "      <td>410414604</td>\n",
       "      <td>-15.4167</td>\n",
       "      <td>28.28330</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2258</th>\n",
       "      <td>410414605</td>\n",
       "      <td>-15.3292</td>\n",
       "      <td>28.68200</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2259</th>\n",
       "      <td>410414606</td>\n",
       "      <td>25.6000</td>\n",
       "      <td>85.11670</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2260</th>\n",
       "      <td>410414607</td>\n",
       "      <td>27.1675</td>\n",
       "      <td>68.51500</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2261</th>\n",
       "      <td>410414608</td>\n",
       "      <td>33.7000</td>\n",
       "      <td>73.16670</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2262</th>\n",
       "      <td>410414609</td>\n",
       "      <td>27.1675</td>\n",
       "      <td>68.51500</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2263</th>\n",
       "      <td>410414610</td>\n",
       "      <td>33.7000</td>\n",
       "      <td>73.16670</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2264</th>\n",
       "      <td>410414611</td>\n",
       "      <td>12.9833</td>\n",
       "      <td>77.58330</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2265</th>\n",
       "      <td>410414612</td>\n",
       "      <td>18.7500</td>\n",
       "      <td>73.41670</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2266</th>\n",
       "      <td>410414613</td>\n",
       "      <td>33.7000</td>\n",
       "      <td>73.16670</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2267</th>\n",
       "      <td>410414614</td>\n",
       "      <td>30.5699</td>\n",
       "      <td>66.59610</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2268</th>\n",
       "      <td>410414615</td>\n",
       "      <td>33.7000</td>\n",
       "      <td>73.16670</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2269</th>\n",
       "      <td>410414616</td>\n",
       "      <td>30.5699</td>\n",
       "      <td>66.59610</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2270</th>\n",
       "      <td>410414617</td>\n",
       "      <td>32.3333</td>\n",
       "      <td>91.66670</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>2033 rows × 3 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "      GlobalEventID  Actor1Geo_Lat  Actor1Geo_Long\n",
       "5         410412352       -27.5000       153.01700\n",
       "6         410412353       -36.0667       146.48300\n",
       "7         410412354       -36.0667       146.48300\n",
       "8         410412355       -41.0000       174.00000\n",
       "9         410412356       -41.0000       174.00000\n",
       "10        410412357       -27.5000       153.01700\n",
       "12        410412359        42.3584       -71.05980\n",
       "13        410412360        22.2000       111.11700\n",
       "14        410412361        38.7918        35.65920\n",
       "15        410412362        22.2394        68.96780\n",
       "16        410412363        22.2394        68.96780\n",
       "17        410412364        40.7834       -73.96620\n",
       "18        410412365        32.7831       -96.80670\n",
       "19        410412366       -28.6207        31.09070\n",
       "20        410412367       -30.3098        25.29710\n",
       "21        410412368        39.9272        32.86440\n",
       "22        410412369        12.9833        77.58330\n",
       "23        410412370        28.6667        77.21670\n",
       "24        410412371        26.0000        92.86670\n",
       "25        410412372        26.0000        92.86670\n",
       "26        410412373        33.0000        44.00000\n",
       "27        410412374        33.0000        44.00000\n",
       "28        410412375        33.0000        44.00000\n",
       "29        410412376        44.2563       -89.63850\n",
       "30        410412377        36.0000       138.00000\n",
       "31        410412378        33.0000        44.00000\n",
       "32        410412379        33.0000        44.00000\n",
       "33        410412380       -41.0000       174.00000\n",
       "34        410412381       -41.0000       174.00000\n",
       "35        410412382       -36.0667       146.48300\n",
       "...             ...            ...             ...\n",
       "2241      410414588        21.0333       105.85000\n",
       "2242      410414589        12.3703        -1.52472\n",
       "2243      410414590        12.3703        -1.52472\n",
       "2244      410414591        31.2089        16.58870\n",
       "2245      410414592        13.2151        43.79270\n",
       "2246      410414593        13.2151        43.79270\n",
       "2247      410414594        12.3703        -1.52472\n",
       "2248      410414595        12.3703        -1.52472\n",
       "2249      410414596        31.2089        16.58870\n",
       "2250      410414597        31.2089        16.58870\n",
       "2251      410414598        31.2089        16.58870\n",
       "2252      410414599        13.2151        43.79270\n",
       "2253      410414600        13.2151        43.79270\n",
       "2254      410414601       -15.3292        28.68200\n",
       "2255      410414602       -15.3292        28.68200\n",
       "2256      410414603       -15.3292        28.68200\n",
       "2257      410414604       -15.4167        28.28330\n",
       "2258      410414605       -15.3292        28.68200\n",
       "2259      410414606        25.6000        85.11670\n",
       "2260      410414607        27.1675        68.51500\n",
       "2261      410414608        33.7000        73.16670\n",
       "2262      410414609        27.1675        68.51500\n",
       "2263      410414610        33.7000        73.16670\n",
       "2264      410414611        12.9833        77.58330\n",
       "2265      410414612        18.7500        73.41670\n",
       "2266      410414613        33.7000        73.16670\n",
       "2267      410414614        30.5699        66.59610\n",
       "2268      410414615        33.7000        73.16670\n",
       "2269      410414616        30.5699        66.59610\n",
       "2270      410414617        32.3333        91.66670\n",
       "\n",
       "[2033 rows x 3 columns]"
      ]
     },
     "execution_count": 43,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "export_names = \"GlobalEventID Day MonthYear Year FractionDate Actor1Code Actor1Name Actor1CountryCode Actor1KnownGroupCode Actor1EthnicCode Actor1Religioni1Code Actor1Religion2Code Actor1Type1Code Actor1Type2Code Actor1Type3Code Actor2Code Actor2Name Actor2CountryCode Actor2KnownGroupCode Actor2EthnicCode Actor2Religioni1Code Actor2Religion2Code Actor2Type1Code Actor2Type2Code Actor2Type3Code IsRootEvent EventCode EventBaseCode EventRootCode QuadClass GoldsteinScale NumMentions NumSources NumArticles AvgTone Actor1Geo_Type Actor1Geo_Fullname Actor1Geo_CountryCode Actor1Geo_ADM1Code Actor1Geo_ADM2Code Actor1Geo_Lat Actor1Geo_Long Actor1Geo_FeatureID Actor2Geo_Type Actor2Geo_Fullname Actor2Geo_CountryCode Actor2Geo_ADM1Code Actor2Geo_ADM2Code Actor2Geo_Lat Actor2Geo_Long Actor2Geo_FeatureID ActionGeo_Type ActionGeo_Fullname ActionGeo_CountryCode ActionGeo_ADM1Code ActionGeo_ADM2Code ActionGeo_Lat ActionGeo_Long ActionGeo_FeatureID DATEADDED SOURCEURL\"\n",
    "export_columns = export_names.split(\" \")\n",
    "export = pd.DataFrame(columns=export_columns)\n",
    "\n",
    "export = pd.read_csv(master['URL'][0], sep = '\\t', names = export_columns, \n",
    "                     usecols = [\"GlobalEventID\", \"Actor1Geo_Lat\", \"Actor1Geo_Long\"])\n",
    "export.dropna()"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.6.7"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
